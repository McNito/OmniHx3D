<!doctype html>

<html lang="en">

<!-- Mirrored from babylonhx.com/demos/srchxjs/animations.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Apr 2016 00:44:26 GMT -->
<head>
  <meta charset="utf-8">

  <title>BabylonHx</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="styles/github.css">
  <style>
	html, body {
		width: 100%;
		height: 100%;
		overflow: hidden;
		margin: 0;
		padding: 0;
		background: url('../../img/abstract3d.jpg') center center fixed;
	}
	pre {
		width: 100%;
		max-width: 1170px;
		height: 100%;
		position: relative;
		margin: auto;
		overflow: auto;
	}
	code {
		padding-top: 2% !important;
		padding-left: 20px !important;
		padding-bottom: 40px !important;
	}
  </style>
</head>

<body>
	<pre><code class="haxe">package samples;

import com.omnihx3d.animations.Animation;
import com.omnihx3d.animations.Animation.BabylonFrame;
import com.omnihx3d.cameras.ArcRotateCamera;
import com.omnihx3d.lights.PointLight;
import com.omnihx3d.materials.StandardMaterial;
import com.omnihx3d.layer.Layer;
import com.omnihx3d.math.Color3;
import com.omnihx3d.math.Vector3;
import com.omnihx3d.mesh.Mesh;
import com.omnihx3d.Scene;


class Animations {

	public function new(scene:Scene) {
		var light = new PointLight("Omni", new Vector3(0, 100, 100), scene);
		var camera = new ArcRotateCamera("Camera", 0, 0.8, 100, Vector3.Zero(), scene);
		camera.attachControl(this, true);
		
		new Layer("background", "assets/img/graygrad.jpg", scene, true);
		
		//Boxes
		var box1 = Mesh.CreateBox("Box1", 10.0, scene);
		box1.position.x = -20;
		var box2 = Mesh.CreateBox("Box2", 10.0, scene);
		
		var materialBox = new StandardMaterial("texture1", scene);
		materialBox.diffuseColor = new Color3(0, 1, 0);//Green
		var materialBox2 = new StandardMaterial("texture2", scene);
		
		//Applying materials
		box1.material = materialBox;
		box2.material = materialBox2;
		
		//Positioning box
		box2.position.x = 20;
		
		// Creation of a basic animation with box 1
		//----------------------------------------
		
		//Create a scaling animation at 30 FPS
		var animationBox = new Animation("tutoAnimation", "scaling.x", 30, Animation.ANIMATIONTYPE_FLOAT,
																		Animation.ANIMATIONLOOPMODE_CYCLE);
		//Here we have chosen a loop mode, but you can change to :
		//  Use previous values and increment it (Animation.ANIMATIONLOOPMODE_RELATIVE)
		//  Restart from initial value (Animation.ANIMATIONLOOPMODE_CYCLE)
		//  Keep the final value (Animation.ANIMATIONLOOPMODE_CONSTANT)
		
		// Animation keys
		var keys:Array&lt;BabylonFrame&lt; = [];
		//At the animation key 0, the value of scaling is "1"
		keys.push({
			frame: 0,
			value: 1
		});
		
		//At the animation key 20, the value of scaling is "0.2"
		keys.push({
			frame: 20,
			value: 0.2
		});
		
		//At the animation key 100, the value of scaling is "1"
		keys.push({
			frame: 100,
			value: 1
		});
		
		//Adding keys to the animation object
		animationBox.setKeys(keys);
		
		//Then add the animation object to box1
		box1.animations.push(animationBox);
		
		//Finally, launch animations on box1, from key 0 to key 100 with loop activated
		scene.beginAnimation(box1, 0, 100, true);
		
		// Creation of a manual animation with box 2
		//------------------------------------------
		scene.registerBeforeRender(function () {			
			//The color is defined at run time with random()
			untyped box2.material.diffuseColor.r = Math.random();
			untyped box2.material.diffuseColor.g = Math.random();	
			untyped box2.material.diffuseColor.b = Math.random();
		});
		
		scene.getEngine().runRenderLoop(function () {
            scene.render();
        });
	}
	
}
</code></pre>

  <script src="highlight.pack.js"></script>  
  <script>
	hljs.configure({
	  tabReplace: '    ' // 4 spaces
	})
	hljs.initHighlightingOnLoad();
  </script>
</body>

<!-- Mirrored from babylonhx.com/demos/srchxjs/animations.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Apr 2016 00:44:27 GMT -->
</html>